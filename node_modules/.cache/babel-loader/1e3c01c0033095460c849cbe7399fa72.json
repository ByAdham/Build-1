{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/adhamabdelfattah/Documents/Lambda/Build/Front-end/front-end/src/components/SubmitNewPost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Button } from 'reactstrap';\nimport { useForm } from 'react-hook-form';\nimport axios from 'axios';\nexport default function SubmitNewPost() {\n  _s();\n\n  ////STATES\n  //Form data state to store the data before sending it to the API\n  const [postFormData, setPostFormData] = useState({}); //Submit event handler\n\n  const onSubmit = function (data, event) {\n    // console.log(data);\n    //Update form state\n    setPostFormData(data); // axios\n    //     .post \n    //Clear the form\n\n    event.target.reset(); //Redirect the user to the posts page showing all posts\n  };\n\n  console.log(postFormData); ////FORM VALIDATION\n\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm(); ////SIDE EFFECTS\n  //Send the data to the API\n\n  useEffect(postFormData => {\n    axios.post('https://bw-comake.herokuapp.com/posts', postFormData).then(res => {\n      console.log(res);\n    }, [postFormData]);\n  });\n  return /*#__PURE__*/_jsxDEV(StyledFormWrapper, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"new-post-form\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          ref: register({\n            required: 'Please choose a title for your post',\n            minLength: {\n              value: 4,\n              message: \"Title can't be shorter than 4 characters\"\n            }\n          }),\n          name: \"title\",\n          type: \"text\",\n          placeholder: \"Post Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this), errors.title && errors.title.message, /*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: register({\n            required: 'Please enter a description',\n            maxLength: {\n              value: 25,\n              message: 'Post limit is 250 characters'\n            }\n          }),\n          name: \"description\",\n          type: \"text\",\n          placeholder: \"Tell us what's happening\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this), errors.description && errors.description.message, /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: register,\n          name: \"imgSrc\",\n          type: \"file\",\n          accept: \"image/png, image/jpeg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          color: \"primary\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SubmitNewPost, \"eWbIDOLi+OUCFAfZcDXFJ5Sdg4g=\", false, function () {\n  return [useForm];\n});\n\n_c = SubmitNewPost;\nconst StyledFormWrapper = styled.div`\n    border: green 5px dashed;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    form {\n        display: flex;\n        flex-flow: column;\n        min-height: 25vh;\n        justify-content: space-between;\n    }\n`;\n_c2 = StyledFormWrapper;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SubmitNewPost\");\n$RefreshReg$(_c2, \"StyledFormWrapper\");","map":{"version":3,"sources":["/Users/adhamabdelfattah/Documents/Lambda/Build/Front-end/front-end/src/components/SubmitNewPost.js"],"names":["React","useEffect","useState","styled","Button","useForm","axios","SubmitNewPost","postFormData","setPostFormData","onSubmit","data","event","target","reset","console","log","register","handleSubmit","errors","post","then","res","required","minLength","value","message","title","maxLength","description","StyledFormWrapper","div"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,MAAT,QAAuB,YAAvB;AACA,SAAQC,OAAR,QAAsB,iBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,eAAe,SAASC,aAAT,GAA0B;AAAA;;AACrC;AACA;AACA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCP,QAAQ,CAAC,EAAD,CAAhD,CAHqC,CAMrC;;AACA,QAAMQ,QAAQ,GAAG,UAAUC,IAAV,EAAgBC,KAAhB,EAAuB;AACpC;AAEA;AACAH,IAAAA,eAAe,CAACE,IAAD,CAAf,CAJoC,CAOpC;AACA;AAEA;;AACAC,IAAAA,KAAK,CAACC,MAAN,CAAaC,KAAb,GAXoC,CAapC;AAEH,GAfD;;AAiBAC,EAAAA,OAAO,CAACC,GAAR,CAAYR,YAAZ,EAxBqC,CAyBrC;;AACA,QAAM;AAAES,IAAAA,QAAF;AAAYC,IAAAA,YAAZ;AAA0BC,IAAAA;AAA1B,MAAqCd,OAAO,EAAlD,CA1BqC,CA4BrC;AACA;;AACAJ,EAAAA,SAAS,CAAEO,YAAD,IAAiB;AACvBF,IAAAA,KAAK,CACAc,IADL,CACU,uCADV,EACmDZ,YADnD,EAEKa,IAFL,CAEUC,GAAG,IAAI;AAACP,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ;AACb,KAHL,EAGO,CAACd,YAAD,CAHP;AAIH,GALQ,CAAT;AAOA,sBACI,QAAC,iBAAD;AAAA,2BACA;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,6BACI;AAAM,QAAA,QAAQ,EAAEU,YAAY,CAACR,QAAD,CAA5B;AAAA,gCACI;AACI,UAAA,GAAG,EAAEO,QAAQ,CAAC;AAACM,YAAAA,QAAQ,EAAE,qCAAX;AAAkDC,YAAAA,SAAS,EAAE;AAACC,cAAAA,KAAK,EAAE,CAAR;AAAWC,cAAAA,OAAO,EAAE;AAApB;AAA7D,WAAD,CADjB;AAEI,UAAA,IAAI,EAAC,OAFT;AAGI,UAAA,IAAI,EAAC,MAHT;AAII,UAAA,WAAW,EAAC;AAJhB;AAAA;AAAA;AAAA;AAAA,gBADJ,EAQKP,MAAM,CAACQ,KAAP,IAAgBR,MAAM,CAACQ,KAAP,CAAaD,OARlC,eAWI;AACI,UAAA,GAAG,EAAET,QAAQ,CAAC;AAACM,YAAAA,QAAQ,EAAE,4BAAX;AAAyCK,YAAAA,SAAS,EAAC;AAACH,cAAAA,KAAK,EAAE,EAAR;AAAYC,cAAAA,OAAO,EAAE;AAArB;AAAnD,WAAD,CADjB;AAEI,UAAA,IAAI,EAAC,aAFT;AAGI,UAAA,IAAI,EAAC,MAHT;AAII,UAAA,WAAW,EAAC;AAJhB;AAAA;AAAA;AAAA;AAAA,gBAXJ,EAkBKP,MAAM,CAACU,WAAP,IAAsBV,MAAM,CAACU,WAAP,CAAmBH,OAlB9C,eAoBI;AACI,UAAA,GAAG,EAAET,QADT;AAEI,UAAA,IAAI,EAAC,QAFT;AAGI,UAAA,IAAI,EAAC,MAHT;AAII,UAAA,MAAM,EAAC;AAJX;AAAA;AAAA;AAAA;AAAA,gBApBJ,eA4BI,QAAC,MAAD;AACA,UAAA,IAAI,EAAC,QADL;AAEA,UAAA,KAAK,EAAC,SAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA5BJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,UADJ;AAwCH;;GA7EuBV,a;UA0BuBF,O;;;KA1BvBE,a;AA+ExB,MAAMuB,iBAAiB,GAAG3B,MAAM,CAAC4B,GAAK;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAZA;MAAMD,iB","sourcesContent":["import React, {useEffect, useState} from 'react';\n\nimport styled from 'styled-components';\nimport { Button } from 'reactstrap'; \nimport {useForm} from 'react-hook-form';\nimport axios from 'axios';\n\n\nexport default function SubmitNewPost () {\n    ////STATES\n    //Form data state to store the data before sending it to the API\n    const [postFormData, setPostFormData] = useState({});\n    \n    \n    //Submit event handler\n    const onSubmit = function (data, event) {\n        // console.log(data);\n        \n        //Update form state\n        setPostFormData(data);\n        \n\n        // axios\n        //     .post \n\n        //Clear the form\n        event.target.reset();\n\n        //Redirect the user to the posts page showing all posts\n    \n    };\n\n    console.log(postFormData);\n    ////FORM VALIDATION\n    const { register, handleSubmit, errors } = useForm();\n\n    ////SIDE EFFECTS\n    //Send the data to the API\n    useEffect((postFormData)=> {\n        axios\n            .post('https://bw-comake.herokuapp.com/posts', postFormData)\n            .then(res => {console.log(res);\n            }, [postFormData])\n    });\n\n    return (\n        <StyledFormWrapper>\n        <div className='new-post-form'>\n            <form onSubmit={handleSubmit(onSubmit)}>\n                <input\n                    ref={register({required: 'Please choose a title for your post', minLength: {value: 4, message: \"Title can't be shorter than 4 characters\"}})}\n                    name='title'\n                    type='text'\n                    placeholder=\"Post Title\"\n                    >\n                </input>\n                {errors.title && errors.title.message}\n                \n\n                <textarea\n                    ref={register({required: 'Please enter a description', maxLength:{value: 25, message: 'Post limit is 250 characters'}})}\n                    name='description'\n                    type=\"text\"\n                    placeholder=\"Tell us what's happening\"\n                    >\n                </textarea>\n                {errors.description && errors.description.message}\n\n                <input\n                    ref={register}\n                    name='imgSrc'\n                    type='file'\n                    accept=\"image/png, image/jpeg\"\n                    >\n                </input>\n\n                <Button \n                type='submit'\n                color='primary'>\n                    Submit\n                </Button>\n            </form>\n        </div>\n        </StyledFormWrapper>\n    )\n}\n\nconst StyledFormWrapper = styled.div `\n    border: green 5px dashed;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    form {\n        display: flex;\n        flex-flow: column;\n        min-height: 25vh;\n        justify-content: space-between;\n    }\n`"]},"metadata":{},"sourceType":"module"}