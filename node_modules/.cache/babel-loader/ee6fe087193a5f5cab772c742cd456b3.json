{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/adhamabdelfattah/Documents/Lambda/Build/Front-end/front-end/src/components/SubmitNewPost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Button } from 'reactstrap';\nimport { useForm } from 'react-hook-form';\nimport axios from 'axios';\nexport default function SubmitNewPost() {\n  _s();\n\n  ////STATES\n  //Form data state to store the data before sending it to the API\n  const [postFormData, setPostFormData] = useState({}); //Submit event handler\n\n  const onSubmit = function (data, event) {\n    console.log(data); //Update form state\n\n    setPostFormData(data); //Clear the form\n\n    event.target.clear(); //Redirect the user to the posts page showing all posts\n  }; ////FORM VALIDATION\n\n\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm(); ////SIDE EFFECTS\n  //Send the data to the API\n\n  useEffect(postFormData => {\n    axios.put('https://bw-comake.herokuapp.com/posts', postFormData).then(res => {\n      console.log(res);\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"new-post-form\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: register({\n          required: 'Please choose a title for your post',\n          maxLength: {\n            value: 25,\n            message: 'Titles cannot be longer than 25 characters'\n          }\n        }),\n        name: \"title\",\n        type: \"text\",\n        onSubmit: handleSubmit(onSubmit),\n        children: errors.title && errors.title.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        color: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SubmitNewPost, \"eWbIDOLi+OUCFAfZcDXFJ5Sdg4g=\", false, function () {\n  return [useForm];\n});\n\n_c = SubmitNewPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"SubmitNewPost\");","map":{"version":3,"sources":["/Users/adhamabdelfattah/Documents/Lambda/Build/Front-end/front-end/src/components/SubmitNewPost.js"],"names":["React","useEffect","useState","styled","Button","useForm","axios","SubmitNewPost","postFormData","setPostFormData","onSubmit","data","event","console","log","target","clear","register","handleSubmit","errors","put","then","res","required","maxLength","value","message","title"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,MAAT,QAAuB,YAAvB;AACA,SAAQC,OAAR,QAAsB,iBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,eAAe,SAASC,aAAT,GAA0B;AAAA;;AACrC;AACA;AACA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCP,QAAQ,CAAC,EAAD,CAAhD,CAHqC,CAMrC;;AACA,QAAMQ,QAAQ,GAAG,UAAUC,IAAV,EAAgBC,KAAhB,EAAuB;AACpCC,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ,EADoC,CAGpC;;AACAF,IAAAA,eAAe,CAACE,IAAD,CAAf,CAJoC,CAMpC;;AACAC,IAAAA,KAAK,CAACG,MAAN,CAAaC,KAAb,GAPoC,CASpC;AACH,GAVD,CAPqC,CAkBrC;;;AACA,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,YAAZ;AAA0BC,IAAAA;AAA1B,MAAqCd,OAAO,EAAlD,CAnBqC,CAqBrC;AACA;;AACAJ,EAAAA,SAAS,CAAEO,YAAD,IAAiB;AACvBF,IAAAA,KAAK,CACAc,GADL,CACS,uCADT,EACkDZ,YADlD,EAEKa,IAFL,CAEUC,GAAG,IAAI;AACTT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AACH,KAJL;AAKH,GANQ,CAAT;AAQA,sBACI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA,2BACI;AAAA,8BACI;AACI,QAAA,GAAG,EAAEL,QAAQ,CAAC;AAACM,UAAAA,QAAQ,EAAE,qCAAX;AAAkDC,UAAAA,SAAS,EAAC;AAACC,YAAAA,KAAK,EAAE,EAAR;AAAYC,YAAAA,OAAO,EAAE;AAArB;AAA5D,SAAD,CADjB;AAEI,QAAA,IAAI,EAAC,OAFT;AAGI,QAAA,IAAI,EAAC,MAHT;AAII,QAAA,QAAQ,EAAER,YAAY,CAACR,QAAD,CAJ1B;AAAA,kBAMSS,MAAM,CAACQ,KAAP,IAAgBR,MAAM,CAACQ,KAAP,CAAaD;AANtC;AAAA;AAAA;AAAA;AAAA,cADJ,eASI,QAAC,MAAD;AACA,QAAA,IAAI,EAAC,QADL;AAEA,QAAA,KAAK,EAAC;AAFN;AAAA;AAAA;AAAA;AAAA,cATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAoBH;;GAnDuBnB,a;UAmBuBF,O;;;KAnBvBE,a","sourcesContent":["import React, {useEffect, useState} from 'react';\n\nimport styled from 'styled-components';\nimport { Button } from 'reactstrap'; \nimport {useForm} from 'react-hook-form';\nimport axios from 'axios';\n\n\nexport default function SubmitNewPost () {\n    ////STATES\n    //Form data state to store the data before sending it to the API\n    const [postFormData, setPostFormData] = useState({});\n    \n    \n    //Submit event handler\n    const onSubmit = function (data, event) {\n        console.log(data);\n        \n        //Update form state\n        setPostFormData(data);\n        \n        //Clear the form\n        event.target.clear();\n\n        //Redirect the user to the posts page showing all posts\n    }\n    ////FORM VALIDATION\n    const { register, handleSubmit, errors } = useForm();\n\n    ////SIDE EFFECTS\n    //Send the data to the API\n    useEffect((postFormData)=> {\n        axios\n            .put('https://bw-comake.herokuapp.com/posts', postFormData)\n            .then(res => {\n                console.log(res);\n            })\n    });\n\n    return (\n        <div className='new-post-form'>\n            <form>\n                <input\n                    ref={register({required: 'Please choose a title for your post', maxLength:{value: 25, message: 'Titles cannot be longer than 25 characters'}})}\n                    name='title'\n                    type='text'\n                    onSubmit={handleSubmit(onSubmit)}\n                    >\n                        {errors.title && errors.title.message}\n                </input>\n                <Button \n                type='submit'\n                color='primary'>\n\n                </Button>\n            </form>\n        </div>\n\n    )\n}"]},"metadata":{},"sourceType":"module"}